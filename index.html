<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8>
    <title>Sample page</title>
  </head>
  <body onload="can1()">
    <h1>第2章〜第3章</h1>
    <!-- this is a comment -->
    A 
    X:<input type="range" name="num1-1" min="0" max="400" value="50" onchange="num1_1(this.value)"><span id="val1-1">50</span>
    Y:<input type="range" name="num1-2" min="0" max="400" value="50" onchange="num1_2(this.value)"><span id="val1-2">50</span><br>
    B 
    X:<input type="range" name="num1-3" min="0" max="400" value="200" onchange="num1_3(this.value)"><span id="val1-3">200</span>
    Y:<input type="range" name="num1-4" min="0" max="400" value="100" onchange="num1_4(this.value)"><span id="val1-4">100</span><br>
    C 
    X:<input type="range" name="num1-5" min="0" max="400" value="200" onchange="num1_5(this.value)"><span id="val1-5">200</span>
    Y:<input type="range" name="num1-6" min="0" max="400" value="200" onchange="num1_6(this.value)"><span id="val1-6">200</span><br>
    <canvas id="canvas1" width="800" height="400"></canvas>
    <script type="text/javascript">
      var x = [50, 200, 200];
      var y = [50, 100, 200];
      function can1(){
        var canvas1 = document.getElementById("canvas1");
        var context1 = canvas1.getContext("2d");

        context1.clearRect(0, 0, 800, 400);
        context1.strokeRect(0, 0, 400, 400);

        context1.beginPath();
        context1.moveTo(x[0], y[0]);
        context1.lineTo(x[1], y[1]);
        context1.lineTo(x[2], y[2]);

        context1.closePath();

        var textHeight = 16;
        context1.font = textHeight + 'px "ヒラギノ角ゴ Pro"';

        context1.fillText("A(" + x[0] + ", " + y[0] + ")", x[0] - 30, y[0] - 10);
        context1.fillText("B(" + x[1] + ", " + y[1] + ")", x[1] - 30, y[1] - 10);
        context1.fillText("C(" + x[2] + ", " + y[2] + ")", x[2] - 30, y[2] - 10);
        context1.fillText("var canvas1 = document.getElementById(\"canvas1\")", 430, 20);
        context1.fillText("var context1 = canvas1.getContext(\"2d\")", 430, 40);
        context1.fillText("context1.moveTo(" + x[0] + ", " + y[0] + ")", 430, 60);
        context1.fillText("context1.lineTo(" + x[1] + ", " + y[1] + ")", 430, 80);
        context1.fillText("context1.lineTo(" + x[2] + ", " + y[2] + ")", 430, 100);
        context1.stroke();
      }
      function num1_1(value){ document.getElementById("val1-1").innerHTML = value; x[0] = value; can1();}
      function num1_2(value){ document.getElementById("val1-2").innerHTML = value; y[0] = value; can1();}
      function num1_3(value){ document.getElementById("val1-3").innerHTML = value; x[1] = value; can1();}
      function num1_4(value){ document.getElementById("val1-4").innerHTML = value; y[1] = value; can1();}
      function num1_5(value){ document.getElementById("val1-5").innerHTML = value; x[2] = value; can1();}
      function num1_6(value){ document.getElementById("val1-6").innerHTML = value; y[2] = value; can1();}
    </script>

    <!--
    <canvas id="canvas2" width="200" height="100"></canvas>
    <script>
      var canvas2 = document.getElementById("canvas2");
      var context2 = canvas2.getContext("2d");

      context2.strokeRect(20, 20, 100, 50);
      context2.fillRect(30, 30, 80, 20);
      context2.clearRect(50, 0, canvas2.width, canvas2.height);

      context2.fillText(canvas2.width, canvas2.width - 30, 20);
      context2.fillText(canvas2.height, 0, canvas2.height);
    </script>
    <br>
    drawImageによる表示<br>
    <canvas id="canvas3" width="128" height="128"></canvas>
    <script>
      var canvas3 = document.getElementById("canvas3");
      var context3 = canvas3.getContext("2d");

      var image = new Image();
      image.onload = function() {
        context3.drawImage(image, 0, 0, canvas3.width, canvas3.height);
      };
      image.src = "html5.png";
    </script>
    <br>
    imgタグによる表示<br>
    <img src="html5.png"><br>
    <canvas id="canvas4" width="800" height="300"></canvas>
    <script>
      var canvas4 = document.getElementById("canvas4");
      var context = canvas4.getContext("2d");

      context.beginPath();
      context.moveTo(0, 0);
      context.quadraticCurveTo(50, 100, 100, 0);
      context.stroke();

      context.beginPath();
      context.moveTo(0, 200);
      context.bezierCurveTo(0, 300, 100, 200, 100, 300);
      context.stroke();

      context.beginPath();
      context.moveTo(100, 100);
      context.arcTo(125, 25, 200, 100, 25);
      context.stroke();

      context.beginPath();
      context.arc(50, 50, 25, 0, 90 * Math.PI / 180, false);
      context.stroke();

      context.beginPath();
      context.arc(250, 50, 25, 0, 90 * Math.PI, false);
      context.stroke();

      context.beginPath();
      context.moveTo(50, 150);
      context.arc(50, 150, 25, 0, 90 * Math.PI / 180, false);
      context.closePath();
      context.stroke();
    </script>
    <canvas id="canvas5" width="300", height="300"></canvas>
    <script>
      var canvas = document.getElementById("canvas5");
      var cx = canvas.getContext("2d");
      cx.beginPath();
      cx.arc(64, 64, 32, 0, 2 * Math.PI, true);
      cx.clip();

      var image = new Image();
      image.onload = function() {
        cx.drawImage(image, 0, 0);
      };
      image.src = "html5.png";
    </script>
    <br>

    <canvas id="canvas6" width="300", height="300"></canvas>
    <script>
      var canvas = document.getElementById("canvas6");
      var cx = canvas.getContext("2d");

      var g = cx.createLinearGradient(0, 0, 200, 0);
      g.addColorStop(0, "white");
      g.addColorStop(1, "black");
      cx.fillStyle = g;
      cx.fillRect(0, 0, 150, 150);

      cx.fillRect(50, 50, 200, 200);
    </script>
    <br>

    <canvas id="canvas7" width="300", height="300"></canvas>
    <script>
      var canvas = document.getElementById("canvas7");
      var cx = canvas.getContext("2d");

      var g = cx.createRadialGradient(90, 90, 0, 50, 50, 200);
      g.addColorStop(0, "white");
      g.addColorStop(1, "black");
      cx.fillStyle = g;

      cx.arc(100, 100, 50, 0, 2 * Math.PI, true);
      cx.fill();
    </script>
    <br>

    <canvas id="canvas8" width="800", height="300"></canvas>
    <script>
      var canvas = document.getElementById("canvas8");
      var cx = canvas.getContext("2d");

      var image = new Image();

      image.onload = function() {
        var pattern = cx.createPattern(image, "repeat");
        cx.fillStyle = pattern;
        cx.fillRect(0, 0, 800, 300);
      };
      image.src = "html5.png";
    </script>
    <br>

    <canvas id="canvas9" width="300", height="300"></canvas>
    <script>
      var canvas = document.getElementById("canvas9");
      var cx = canvas.getContext("2d");

      cx.globalAlpha = 0.5;
      cx.fillRect(0, 0, 100, 100);
    </script>
    <br>

    <canvas id="canvas10" width="300", height="300"></canvas>
    <script>
      var canvas = document.getElementById("canvas10");
      var cx = canvas.getContext("2d");

      cx.shadowOffsetX = 5;
      cx.shadowOffsetY = 5;
      cx.shadowColor = "gray";
      cx.shadowBlur = 2;
      cx.fillRect(10, 10, 50, 50);

    </script>
    <br>

    <canvas id="canvas11" width="300", height="300"></canvas>
    <script>
      var canvas = document.getElementById("canvas11");
      var cx = canvas.getContext("2d");

      var message = "こんにちは";
      var textHeight = 32;
      cx.font = textHeight + 'px "ヒラギノ角ゴ Pro"';
      var textWidth = cx.measureText(message).width;

      cx.fillStyle = "pink";
      cx.fillRect(0, 0, textWidth, textHeight);
      cx.fillStyle = "black";
      cx.textBaseline = "bottom";
      cx.fillText(message, 0, textHeight);
    </script>
    <br>

    <canvas id="canvas12" width="300", height="300"></canvas>
    <script>
      var canvas = document.getElementById("canvas12");
      var cx = canvas.getContext("2d");

      cx.fillText("こんにちは", 30, 30);

      cx.scale(2, 1.5);
      cx.fillText("こんにちは、scale()", 30, 30);

      cx.scale(1 / 2, 1 / 1.5);

      var angle = 20 * Math.PI / 180;

      cx.rotate(angle);
      cx.fillText("こんにちは、rotate()", 30, 30);

      cx.rotate(-angle);

      cx.translate(50, 50);
      cx.fillText("こんにちは、translate()", 30, 30);

      cx.translate(-50, -50);
    </script>
    <br>

    <canvas id="canvas13" width="300", height="300"></canvas>
    <script>
      var canvas13 = document.getElementById("canvas13");
      var cx1 = canvas13.getContext("2d");

      var image13 = new Image();

      image13.onload = function() {
        cx1.drawImage(image13, 0, 0);

        cx1.globalAlpha = .3;
        cx1.transform(1, 0, 0, -0.5, 0, image13.height * 1.5);
        cx1.drawImage(image13, 0, 0);
      };
      image13.src = "html5.png";
    </script>
    <br>

    <canvas id="canvas14" width="300", height="300"></canvas>
    <script>
      var canvas = document.getElementById("canvas14");
      var cx = canvas.getContext("2d");

      cx.fillText("こんにちは", 30, 30);
      cx.save();
      cx.scale(2, 1.5);
      cx.fillText("こんにちは、scale()", 30, 30);

      cx.restore();

      cx.save();
      var angle = 20 * Math.PI /180;

      cx.rotate(angle);
      cx.fillText("こんにちは、rotate()", 30, 30);
      cx.restore();
      cx.save();

      cx.translate(50, 50);
      cx.fillText("こんにちは、translate()", 30, 30);
      cx.restore();
    </script>
    <br>

    <canvas id="canvas15" width="300", height="300"></canvas>
    <script>
      var canvas = document.getElementById("canvas15");
      var cx = canvas.getContext("2d");

      //x, y, w, hで指定された範囲の透明度を、alphaで指定された値に変更する
      //alphaには0.0〜1.0の値を指定することが出来る
      function alphaRect(context, alpha, x, y, w, h) {
        //キャンバスから画像データを取得
        var imageData = context.getImageData(x, y, w, h);
        //ビットマップを走査
        for (var i = 0; i < imageData.data.length; i++) {
          //透明度を変更
          if (i % 4 == 3) {
            //ピクセル操作の場合は透明度も0〜255の範囲で指定する
            imageData.data[i] = 255 * alpha;
          }
        }
        //変更後のビットマップをキャンバスに書き出す
        cx.putImageData(imageData, x, y);
      }
    </script>
    <br>

    <canvas id="canvas16" width="300", height="300"></canvas>
    <script>
      var canvas = document.getElementById("canvas16");
      var cx = canvas.getContext("2d");
    </script>
    <br>
    -->
  </body>
</html>
